name: test-action

on:
  push:
    branches: 
      - 'main'
  workflow_dispatch:
  
jobs:
  init:
    runs-on: ubuntu-latest
    outputs:
      initial_value: "${{ steps.initial_value.outputs.initial_value }}"
    steps:
    - id: initial_value
      run: |
        echo "initial_value=[\"dev\"]" >> $GITHUB_OUTPUT
  call-recursive-action:
    needs: [init]
    uses: ./.github/workflows/recursive-action.yml
    with:
      values: ${{ needs.init.outputs.initial_value }}
